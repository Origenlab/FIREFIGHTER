---
import BaseLayout from '../layouts/BaseLayout.astro';
import Button from '../components/ui/Button.astro';
import states from '../data/states.json';

const sortedStates = [...states].sort((a, b) => a.name.localeCompare(b.name));
---

<BaseLayout
  title="Agregar Estación de Bomberos"
  description="Sugiere una nueva estación de bomberos para agregar al directorio nacional de Firefighter México."
>
  <section class="section bg-slate-50">
    <div class="container-custom">
      <div class="max-w-2xl mx-auto">
        <div class="text-center mb-10">
          <div class="w-16 h-16 bg-fire-100 rounded-xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-fire-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
          </div>
          <h1 class="text-3xl md:text-4xl font-display font-bold text-slate-800 mb-4">
            Agregar Estación
          </h1>
          <p class="text-lg text-slate-600">
            ¿Conoces una estación de bomberos que no está en nuestro directorio?
            Ayúdanos a mantener la información actualizada.
          </p>
        </div>

        <div class="card p-8">
          <form name="add-station" method="POST" data-netlify="true" class="space-y-6">
            <!-- Station Info -->
            <div>
              <h2 class="text-lg font-display font-semibold text-slate-800 mb-4">
                Información de la estación
              </h2>

              <div class="space-y-4">
                <div>
                  <label for="station-name" class="block text-sm font-medium text-slate-700 mb-2">
                    Nombre de la estación *
                  </label>
                  <input
                    type="text"
                    id="station-name"
                    name="station-name"
                    required
                    class="input"
                    placeholder="Ej: Estación Central de Bomberos"
                  />
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label for="state" class="block text-sm font-medium text-slate-700 mb-2">
                      Estado *
                    </label>
                    <select id="state" name="state" required class="input">
                      <option value="">Selecciona un estado</option>
                      {sortedStates.map((state) => (
                        <option value={state.slug}>{state.name}</option>
                      ))}
                    </select>
                  </div>
                  <div>
                    <label for="city" class="block text-sm font-medium text-slate-700 mb-2">
                      Ciudad/Municipio *
                    </label>
                    <input
                      type="text"
                      id="city"
                      name="city"
                      required
                      class="input"
                      placeholder="Ej: Guadalajara"
                    />
                  </div>
                </div>

                <div>
                  <label for="address" class="block text-sm font-medium text-slate-700 mb-2">
                    Dirección completa *
                  </label>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    required
                    class="input"
                    placeholder="Calle, número, colonia, código postal"
                  />
                </div>

                <div>
                  <label for="phone" class="block text-sm font-medium text-slate-700 mb-2">
                    Teléfono *
                  </label>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    required
                    class="input"
                    placeholder="Ej: +52 33 1234 5678"
                  />
                </div>

                <div>
                  <label for="service-type" class="block text-sm font-medium text-slate-700 mb-2">
                    Tipo de servicio
                  </label>
                  <select id="service-type" name="service-type" class="input">
                    <option value="">Selecciona si conoces</option>
                    <option value="profesional">Profesional</option>
                    <option value="voluntario">Voluntario</option>
                    <option value="industrial">Industrial</option>
                    <option value="proteccion-civil">Protección Civil</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Your Info -->
            <div class="pt-6 border-t border-slate-200">
              <h2 class="text-lg font-display font-semibold text-slate-800 mb-4">
                Tu información
              </h2>

              <div class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label for="your-name" class="block text-sm font-medium text-slate-700 mb-2">
                      Tu nombre *
                    </label>
                    <input
                      type="text"
                      id="your-name"
                      name="your-name"
                      required
                      class="input"
                    />
                  </div>
                  <div>
                    <label for="your-email" class="block text-sm font-medium text-slate-700 mb-2">
                      Tu correo *
                    </label>
                    <input
                      type="email"
                      id="your-email"
                      name="your-email"
                      required
                      class="input"
                    />
                  </div>
                </div>

                <div>
                  <label for="notes" class="block text-sm font-medium text-slate-700 mb-2">
                    Notas adicionales
                  </label>
                  <textarea
                    id="notes"
                    name="notes"
                    rows="3"
                    class="input"
                    placeholder="Cualquier información adicional que pueda ser útil..."
                  ></textarea>
                </div>
              </div>
            </div>

            <div class="flex items-center gap-4 pt-4">
              <Button type="submit" variant="primary">
                Enviar sugerencia
              </Button>
              <span class="text-sm text-slate-500">* Campos requeridos</span>
            </div>
          </form>
        </div>

        <p class="text-center text-sm text-slate-500 mt-6">
          Revisaremos tu sugerencia y la agregaremos al directorio si es válida.
          Gracias por contribuir a mantener el directorio actualizado.
        </p>
      </div>
    </div>
  </section>
</BaseLayout>
