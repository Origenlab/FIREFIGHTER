---
/**
 * StatesGrid Component - Clean Professional Design
 * Grid of states using consistent card design
 */
import states from '../../data/states.json';

const sortedStates = [...states].sort((a, b) => a.name.localeCompare(b.name));
const totalStations = sortedStates.reduce((acc, s) => acc + s.totalStations, 0);
---

<section class="py-16 md:py-24" style="background-color: #f8fafc;">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-10">
      <h2 class="text-2xl md:text-3xl font-bold mb-3" style="color: #0f172a;">
        Explora por Estado
      </h2>
      <p class="text-base" style="color: #64748b;">
        Selecciona un estado para ver las estaciones disponibles
      </p>
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4">
      {sortedStates.map((state) => (
        <a
          href={`/directorio/${state.slug}`}
          class="group bg-white rounded-xl overflow-hidden transition-shadow duration-200 hover:shadow-md"
          style="border: 1px solid #e2e8f0;"
        >
          <div class="h-1 w-full" style="background-color: #dc2626;"></div>
          <div class="p-4">
            <div class="flex items-center justify-between gap-2">
              <div class="min-w-0">
                <h3 class="font-semibold text-sm truncate" style="color: #0f172a;">
                  {state.name}
                </h3>
                <p class="text-xs mt-0.5" style="color: #64748b;">
                  {state.totalStations} estaciones
                </p>
              </div>
              <svg class="w-4 h-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5" style="color: #94a3b8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </div>
          </div>
        </a>
      ))}
    </div>

    <!-- Total count -->
    <div class="text-center mt-8">
      <p class="text-sm" style="color: #64748b;">
        Total: <strong style="color: #0f172a;">{totalStations}</strong> estaciones en <strong style="color: #0f172a;">32</strong> estados
      </p>
    </div>
  </div>
</section>
